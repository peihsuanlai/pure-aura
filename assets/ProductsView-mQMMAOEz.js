import{a as h}from"./axios-L6U4YIEh.js";import{_ as y,r as v,o as c,c as i,a as t,F as _,e as p,d as r,t as e,b as w}from"./index-HBEewCPk.js";var b={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"product-api",BASE_URL:"/week6-exercise/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:u,VITE_API_PATH:m}=b,x={data(){return{products:[],temp:{},isLoading:!0}},methods:{getProducts(){h.get(`${u}/api/${m}/products/all`).then(n=>{this.products=n.data.products,this.isLoading=!1}).catch(()=>{})},showProduct(n){h.get(`${u}/api/${m}/product/${n}`).then(d=>{this.temp=d.data.product}).catch(()=>{})}},computed:{productLength(){return Object.keys(this.products).length}},mounted(){this.getProducts()}},f={class:"container"},k={class:"row py-3"},L={class:"col-md-6"},P=t("h2",null,"產品列表",-1),V={class:"table table-hover mt-4"},E=t("thead",null,[t("tr",null,[t("th",{width:"150"},"產品名稱"),t("th",{width:"120"}," 原價 "),t("th",{width:"120"}," 售價 "),t("th",{width:"150"}," 是否啟用 "),t("th",{width:"120"}," 查看細節 ")])],-1),I={width:"150"},A={width:"120"},T={width:"120"},U={width:"150"},O={key:0,class:"text-success"},R={key:1},B={width:"120"},D=["onClick"],S={class:"col-md-6"},C=t("h2",null,"單一產品細節",-1),N={class:"card mb-3"},F=["src"],H={class:"card-body"},j={class:"card-title"},M={class:"badge bg-primary ms-2"},q={class:"card-text"},z={class:"card-text"},G={class:"d-flex"},J={class:"card-text me-2"},K={class:"card-text text-secondary"},Q=["src"],W={key:1,class:"text-secondary"};function X(n,d,Y,Z,s,a){const g=v("LoadingOverlay");return c(),i("div",f,[t("div",k,[t("div",L,[P,t("table",V,[E,t("tbody",null,[(c(!0),i(_,null,p(s.products,o=>(c(),i("tr",{key:o.id},[t("td",I,e(o.title),1),t("td",A,e(o.origin_price),1),t("td",T,e(o.price),1),t("td",U,[o.is_enabled===1?(c(),i("span",O,"啟用")):(c(),i("span",R,"未啟用"))]),t("td",B,[t("button",{type:"button",class:"btn btn-primary",onClick:l=>a.showProduct(o.id)},"查看細節",8,D)])]))),128))])]),t("p",null,[r("目前有"),t("span",null,e(a.productLength),1),r("項產品")]),w(g,{active:s.isLoading,"onUpdate:active":d[0]||(d[0]=o=>s.isLoading=o)},null,8,["active"])]),t("div",S,[C,s.temp.title?(c(),i(_,{key:0},[t("div",N,[t("img",{src:s.temp.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,F),t("div",H,[t("h5",j,[r(e(s.temp.title)+" ",1),t("span",M,e(s.temp.category),1)]),t("p",q,"商品描述："+e(s.temp.description),1),t("p",z,"商品內容："+e(s.temp.content),1),t("div",G,[t("p",J,e(s.temp.price),1),t("p",K,[t("del",null,e(s.temp.origin_price),1)]),r(" 元 / "+e(s.temp.unit),1)])])]),(c(!0),i(_,null,p(s.temp.imagesUrl,(o,l)=>(c(),i("img",{key:"image"+l,src:o,alt:"",class:"w-100 my-2"},null,8,Q))),128))],64)):(c(),i("p",W,"請選擇一個商品查看"))])])])}const st=y(x,[["render",X]]);export{st as default};
