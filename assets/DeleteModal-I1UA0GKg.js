import{a as n}from"./axios-L6U4YIEh.js";import{e as l,M as r}from"./bootstrap.esm-XVrqZve_.js";import{_ as m,o as c,c as p,b as e,g as d,t as u}from"./index-Sm7Rgr_h.js";function b(s="更新"){l.emit("push-message",{style:"success",title:`${s}成功`})}function _(s,t="更新"){const a=typeof s.response.data.message=="string"?[s.response.data.message]:s.response.data.message;l.emit("push-message",{style:"danger",title:`${t}失敗`,content:a.join("、")})}var h={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"product-api",BASE_URL:"/pure-aura/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:f,VITE_API_PATH:g}=h,M={props:{item:{type:Object,default:()=>({})},type:{type:String}},data(){return{delModal:null}},methods:{deleteData(){n.delete(`${f}/api/${g}/admin/${this.type}/${this.item.id}`).then(()=>{this.$emit("update"),b("刪除")}).catch(s=>{_(s,"刪除")}),this.closeModal()},openModal(){this.delModal.show()},closeModal(){this.delModal.hide()}},mounted(){this.delModal=new r(this.$refs.delItemModal)}},y={id:"delItemModal",ref:"delItemModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delItemModalLabel","aria-hidden":"true"},I={class:"modal-dialog"},x={class:"modal-content border-0"},v={class:"modal-body"},D={class:"text-danger"},E={class:"modal-footer"};function T(s,t,a,$,A,o){return c(),p("div",y,[e("div",I,[e("div",x,[t[4]||(t[4]=e("div",{class:"modal-header bg-dark text-white"},[e("h5",{id:"delItemModalLabel",class:"modal-title"},[e("span",null,"刪除 (刪除後將無法恢復)")]),e("button",{type:"button",class:"btn text-white","data-bs-dismiss":"modal","aria-label":"Close"},[e("i",{class:"bi bi-x-lg"})])],-1)),e("div",v,[t[1]||(t[1]=d(" 確定刪除 ")),e("strong",D,u(a.item.title?a.item.title:"該筆訂單"),1),t[2]||(t[2]=d("。 "))]),e("div",E,[t[3]||(t[3]=e("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," 取消 ",-1)),e("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=(...i)=>o.deleteData&&o.deleteData(...i))}," 確認刪除 ")])])])],512)}const S=m(M,[["render",T]]);export{S as D,_ as a,b as s};
