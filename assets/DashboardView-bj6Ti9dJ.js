import{a as n}from"./axios-L6U4YIEh.js";import{_ as p,r as i,o as u,c as l,a as d,b as o,w as s,d as e,f,h as k,i as V,F as x}from"./index-HBEewCPk.js";var R={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"product-api",BASE_URL:"/week6-exercise/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:v}=R,w={data(){return{checkSuccess:!1}},methods:{check(){n.post(`${v}/api/user/check`).then(()=>{this.checkSuccess=!0}).catch(()=>{this.$router.push("/login")})},signout(){document.cookie="myToken=;expires=;",this.$router.push("/login")}},mounted(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");n.defaults.headers.common.Authorization=c,this.check()}};function E(c,r,T,$,_,a){const t=i("RouterLink"),h=i("RouterView");return u(),l(x,null,[d("nav",null,[o(t,{to:"/admin/products"},{default:s(()=>[e("產品列表")]),_:1}),e(" | "),o(t,{to:"/admin/order"},{default:s(()=>[e("訂單")]),_:1}),e(" | "),o(t,{to:"/"},{default:s(()=>[e("回到前台")]),_:1}),d("a",{href:"#",onClick:r[0]||(r[0]=f((...m)=>a.signout&&a.signout(...m),["prevent"]))},"登出")]),_.checkSuccess?(u(),k(h,{key:0})):V("",!0)],64)}const I=p(w,[["render",E]]);export{I as default};
