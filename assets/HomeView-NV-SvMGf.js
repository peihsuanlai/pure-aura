import{a as C}from"./axios-L6U4YIEh.js";import{_ as b,a as f,r as w,o as u,c as p,d as c,w as m,b as t,t as s,F as v,i as y,h as _,g as x}from"./index-FCRSNV6O.js";import{c as S}from"./cartStore-IIP3tYfM.js";import{C as D}from"./CarouselComponent-1gwHDoIJ.js";import{s as P}from"./alertHelper-rCyq43OB.js";var I={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"product-api",BASE_URL:"/pure-aura/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:T,VITE_API_PATH:k}=I,V={data(){return{slidesData:[{src:"/pure-aura/images/banner1.png",mobileSrc:"/pure-aura/images/banner1-sm.png",alt:"banner1"},{src:"/pure-aura/images/banner2.png",mobileSrc:"/pure-aura/images/banner2-sm.png",alt:"banner2"}],titles:{brandSelect:"品牌嚴選",limitSale:"限時特惠"},categoryData:[{src:"/pure-aura/images/category1.png",link:{name:"Products",query:{category:"質感提案"}}},{src:"/pure-aura/images/category2.png",link:{name:"Products",query:{category:"天然の香"}}},{src:"/pure-aura/images/category3.png",link:{name:"Products",query:{category:"舒壓放鬆"}}}],brand:{bgSrc:"/pure-aura/images/brand-bg.png",imageSrc:"/pure-aura/images/store.png",slogan1:"打造清新生活，享受天然香氣",slogan2:"喚醒感官，享受純粹",intro1:"放慢腳步，讓香氛帶領您進入一個清新、純淨的世界。從精心挑選的原料，到細緻手工的調配與製作，每個細節都代表著我們對天然與純粹的追求。",intro2:"我們用心製作每一個小物件，為您的生活空間帶來無可比擬的清新與品味，從純粹的香氣中找到平靜，將自然的力量注入您的每一天。"},adImgSrc:"/pure-aura/images/ad-banner.png",saleProducts:[],countDown:{day:0,hr:0,min:0,sec:0},timer:null,endTimeStr:"2025-06-30T23:59:59+08:00",windowWidth:null}},methods:{getSaleProducts(){C.get(`${T}/api/${k}/products/all`).then(a=>{this.saleProducts=a.data.products.filter(e=>e.price<e.origin_price)}).catch(()=>{P()})},countDownHandler(a){const e=new Date(a).getTime();this.timer=setInterval(()=>{const g=new Date().getTime(),i=e-g;if(i<=0){clearInterval(this.timer),this.countDown={day:0,hr:0,min:0,sec:0};return}const n=Math.floor(i/(1e3*60*60*24)),d=Math.floor(i%(1e3*60*60*24)/(1e3*60*60)),r=Math.floor(i%(1e3*60*60)/(1e3*60)),l=Math.floor(i%(1e3*60)/1e3);this.countDown={day:n,hr:d,min:r,sec:l}},1e3)},updateWindowWidth(){this.windowWidth=window.innerWidth},getImage(a){return this.isMobile?a.mobileSrc:a.src},...f(S,["addToCart"])},computed:{isMobile(){return this.windowWidth<576}},components:{CarouselComponent:D},mounted(){this.getSaleProducts(),this.countDownHandler(this.endTimeStr),this.updateWindowWidth(),window.addEventListener("resize",this.updateWindowWidth)},beforeUnmount(){clearInterval(this.timer),window.removeEventListener("resize",this.updateWindowWidth)}},W=["src","alt"],E={class:"category-container home-section"},A={class:"container"},B={class:"title reveal","data-origin":"top"},L=["textContent"],$={class:"row category-list reveal"},M={class:"brand-container home-section"},R={class:"container"},H={class:"row"},N={class:"col-sm-6 reveal","data-origin":"left"},U={class:"col-sm-6 reveal","data-origin":"right"},q={class:"content"},z=["textContent"],F=["textContent"],O=["textContent"],j=["textContent"],G={class:"home-img-block"},J={class:"container reveal","data-opacitty":"0.3"},K=["src"],Q={class:"limit-sale-container home-section"},X={class:"container"},Y={class:"title reveal","data-origin":"top"},Z=["textContent"],tt={class:"countdown-time reveal","data-origin":"top"},et={class:"wrapper"},nt=["textContent"],st=["textContent"],ot=["textContent"],at=["textContent"],it={class:"row product-carousel product-list reveal"},rt=["textContent"],lt={class:"price"},ct=["textContent"],dt=["textContent"],ut=["onClick"];function pt(a,e,g,i,n,d){const r=w("CarouselComponent"),l=w("RouterLink");return u(),p(v,null,[c(r,{slides:n.slidesData,spaceBetween:0,navigation:!1,class:"home-banner"},{default:m(({item:o})=>[t("img",{src:d.getImage(o),alt:o.alt},null,8,W)]),_:1},8,["slides"]),t("section",E,[t("div",A,[t("h2",B,[t("span",{textContent:s(n.titles.brandSelect)},null,8,L)]),t("div",$,[(u(!0),p(v,null,y(n.categoryData,(o,h)=>(u(),p("div",{class:"col-sm-6 col-lg-4",key:"category"+h},[c(l,{to:o.link,class:"item",style:_({backgroundImage:`url(${o.src})`})},null,8,["to","style"])]))),128))])])]),t("section",M,[t("div",R,[t("div",H,[t("div",N,[t("div",{class:"img",style:_({backgroundImage:`url(${n.brand.imageSrc})`})},null,4)]),t("div",U,[t("div",q,[t("h2",{class:"title",textContent:s(n.brand.slogan1)},null,8,z),t("p",{textContent:s(n.brand.intro1)},null,8,F),t("h3",{textContent:s(n.brand.slogan2)},null,8,O),t("p",{textContent:s(n.brand.intro2)},null,8,j)])])])])]),t("section",G,[t("div",J,[t("img",{src:n.adImgSrc,alt:"",class:"w-100"},null,8,K)])]),t("section",Q,[t("div",X,[t("h2",Y,[t("span",{textContent:s(n.titles.limitSale)},null,8,Z)]),t("div",tt,[t("div",et,[t("div",null,[t("span",{class:"num",textContent:s(n.countDown.day)},null,8,nt),e[0]||(e[0]=t("span",null,"日",-1))]),e[4]||(e[4]=t("span",{class:"colon"},":",-1)),t("div",null,[t("span",{class:"num",textContent:s(n.countDown.hr)},null,8,st),e[1]||(e[1]=t("span",null,"時",-1))]),e[5]||(e[5]=t("span",{class:"colon"},":",-1)),t("div",null,[t("span",{class:"num",textContent:s(n.countDown.min)},null,8,ot),e[2]||(e[2]=t("span",null,"分",-1))]),e[6]||(e[6]=t("span",{class:"colon"},":",-1)),t("div",null,[t("span",{class:"num",textContent:s(n.countDown.sec)},null,8,at),e[3]||(e[3]=t("span",null,"秒",-1))])])]),t("div",it,[c(r,{slides:n.saleProducts,slidesPerView:1,spaceBetween:0,loop:!1,autoplay:!1,pagination:!1,breakpoints:{576:{slidesPerView:2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:20}}},{default:m(({item:o})=>[c(l,{to:{name:"Product",params:{id:o.id}},class:"item"},{default:m(()=>[t("div",{class:"img",style:_({backgroundImage:`url(${o.imageUrl})`})},e[7]||(e[7]=[t("div",{class:"overlay"},[t("div",null,"查看細節")],-1)]),4),t("h4",{class:"product-title",textContent:s(o.title)},null,8,rt),t("div",lt,[t("span",{class:"original-price",textContent:s("NT$"+a.$filter.currency(o.origin_price))},null,8,ct),t("span",{class:"offer-price",textContent:s("NT$"+a.$filter.currency(o.price))},null,8,dt)])]),_:2},1032,["to"]),t("button",{type:"button",class:"add-btn",onClick:h=>a.addToCart(o.id)},e[8]||(e[8]=[t("i",{class:"bi bi-cart3"},null,-1),x(" 加入購物車 ")]),8,ut)]),_:1},8,["slides"])])])])],64)}const vt=b(V,[["render",pt]]);export{vt as default};
