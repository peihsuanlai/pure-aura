import{a as d}from"./axios-L6U4YIEh.js";import{e as a}from"./bootstrap.esm-XVrqZve_.js";import{T as p}from"./ToastMessage-7-tuuJjP.js";import{_ as f,r as c,o as _,c as g,b as e,q as v,e as u,p as l,d as w,F as b}from"./index-Sm7Rgr_h.js";var T={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"product-api",BASE_URL:"/pure-aura/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:x}=T,V={data(){return{user:{username:"",password:""}}},components:{ToastMessage:p},provide(){return{emitter:a}},methods:{login(){d.post(`${x}/admin/signin`,this.user).then(r=>{const{token:s,expired:n}=r.data;document.cookie=`myToken=${s}; expires=${new Date(n)}`,this.$router.push("/admin/products")}).catch(()=>{a.emit("push-message",{style:"danger",title:"登入失敗"}),this.user.username="",this.user.password=""})}}},h={class:"container py-5"},y={class:"row justify-content-center"},E={class:"col-6"},I={class:"form-floating mb-3"},M={class:"form-floating"};function k(r,s,n,A,t,i){const m=c("ToastMessage");return _(),g(b,null,[e("div",h,[e("div",y,[e("div",E,[s[6]||(s[6]=e("p",{class:"h3 mb-3"},"登入",-1)),e("form",{id:"form",class:"form-signin",onSubmit:s[2]||(s[2]=v((...o)=>i.login&&i.login(...o),["prevent"]))},[e("div",I,[u(e("input",{type:"email",class:"form-control",id:"username",required:"",autofocus:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.user.username=o)},null,512),[[l,t.user.username]]),s[3]||(s[3]=e("label",{for:"username"},"帳號(Email)",-1))]),e("div",M,[u(e("input",{type:"password",class:"form-control",id:"password",required:"","onUpdate:modelValue":s[1]||(s[1]=o=>t.user.password=o)},null,512),[[l,t.user.password]]),s[4]||(s[4]=e("label",{for:"password"},"密碼",-1))]),s[5]||(s[5]=e("button",{class:"btn btn-lg btn-primary text-white w-100 mt-3",type:"submit"}," 登入 ",-1))],32)])])]),w(m)],64)}const B=f(V,[["render",k]]);export{B as default};
